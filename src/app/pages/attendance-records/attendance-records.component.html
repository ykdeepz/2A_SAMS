<div class="attendance-container">
  <h2 class="page-title">Attendance Records</h2>

  <!-- Filters -->
  <div class="filters-container">
    <div class="filters-grid">
      <div class="form-group">
        <label class="form-label">Subject</label>
        <select [(ngModel)]="filterSubject" class="form-select">
          <option value="">All Subjects</option>
          @for (subject of subjects(); track subject.subject_id) {
            <option [value]="subject.subject_id">{{subject.subject_name}}</option>
          }
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Status</label>
        <select [(ngModel)]="filterStatus" class="form-select">
          <option value="">All Status</option>
          <option value="Present">Present</option>
          <option value="Late">Late</option>
          <option value="Absent">Absent</option>
          <option value="Excused">Excused</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Search</label>
        <input type="text" [(ngModel)]="searchTerm" placeholder="Search student..."
               class="form-input">
      </div>
    </div>
  </div>

  <!-- Records Table -->
  <div class="table-container">
    <div class="table-wrapper">
      <table class="attendance-table">
        <thead class="table-header">
          <tr>
            <th>Student</th>
            <th>Subject</th>
            <th>Date</th>
            <th>Time</th>
            <th>Status</th>
            <th>Method</th>
          </tr>
        </thead>
        <tbody class="table-body">
          @for (record of filteredRecords(); track record.attendance_id; let i = $index) {
            <tr>
              <td class="student-name">{{record.student_name}}</td>
              <td class="subject-name">{{record.subject_name}}</td>
              <td class="record-date">{{formatDate(record.date)}}</td>
              <td class="record-time">{{record.time}}</td>
              <td>
                <span [class]="getStatusClass(record.status)">{{record.status}}</span>
              </td>
              <td class="record-method">{{record.method}}</td>
            </tr>
          } @empty {
            <tr>
              <td colspan="6" class="empty-state">
                <p class="empty-icon">ðŸ“‹</p>
                <p class="empty-message">No attendance records found</p>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
